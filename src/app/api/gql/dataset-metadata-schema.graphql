query getDatasetMetadataSchema(
  $datasetId: DatasetID!
  $numRecords: Int
  $numPage: Int
) {
  datasets {
    byId(datasetId: $datasetId) {
      id
      name
      kind
      owner {
        id
        name
      }
      metadata {
        chain {
          blocks(perPage: $numRecords, page: $numPage) {
            totalCount
            nodes {
              blockHash
              systemTime
            }
            pageInfo {
              hasNextPage
              hasPreviousPage
              totalPages
            }
          }
        }
        currentSchema(format: PARQUET_JSON) {
          content
        }
        currentTransform {
          inputs {
            dataset {
              id
              name
              kind
              owner {
                id
                name
              }
            }
          }
          transform {
            ... on TransformSql {
              queries {
                alias
                query
              }
            }
          }
        }
      }
    }
  }
}
