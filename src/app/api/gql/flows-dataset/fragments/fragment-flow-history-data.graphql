fragment FlowHistoryData on FlowEvent {
  __typename
  eventId
  eventTime
  ... on FlowEventAborted {
    __typename
  }

  ... on FlowEventInitiated {
    activationCause {
      __typename
      ... on FlowActivationCauseAutoPolling {
        __typename
      }
      ... on FlowActivationCauseManual {
        initiator {
          ...Account
        }
      }
      ... on FlowActivationCausePush {
        __typename
      }
      ... on FlowActivationCauseInputDatasetFlow {
        dataset {
          ...DatasetBasics
        }
      }
    }
  }

  ... on FlowEventStartConditionUpdated {
    startCondition {
      __typename
      ... on FlowStartConditionThrottling {
        intervalSec
        wakeUpAt
        shiftedFrom
      }

      ... on FlowStartConditionBatching {
        activeBatchingRule {
          minRecordsToAwait
          maxBatchingInterval {
            ...TimeDeltaData
          }
        }
        batchingDeadline
        accumulatedRecordsCount
        watermarkModified
      }

      ... on FlowStartConditionSchedule {
        wakeUpAt
      }

      ... on FlowStartConditionExecutor {
        taskId
      }
    }
  }

  ... on FlowEventScheduledForActivation {
    __typename
    scheduledForActivationAt
  }

  ... on FlowEventTaskChanged {
    __typename
    taskId
    taskStatus
    task {
      outcome {
        __typename
        ... on TaskOutcomeFailed {
          reason {
            __typename
            ... on TaskFailureReasonGeneral {
              message
            }

            ... on TaskFailureReasonInputDatasetCompacted {
              message
              inputDataset {
                ...DatasetBasics
              }
            }
          }
        }
      }
    }
    nextAttemptAt
  }

  ... on FlowEventActivationCauseAdded {
    activationCause {
      __typename
      ... on FlowActivationCauseAutoPolling {
        __typename
      }
      ... on FlowActivationCauseManual {
        initiator {
          ...Account
        }
      }
      ... on FlowActivationCausePush {
        __typename
      }
      ... on FlowActivationCauseInputDatasetFlow {
        dataset {
          ...DatasetBasics
        }
        flowId
        flowType
      }
    }
  }

  ... on FlowConfigSnapshotModified {
    configSnapshot {
      __typename
    }
  }
}
