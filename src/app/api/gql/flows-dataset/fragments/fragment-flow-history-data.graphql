fragment FlowHistoryData on FlowEvent {
  __typename
  eventId
  eventTime
  ... on FlowEventAborted {
    __typename
  }

  ... on FlowEventInitiated {
    activationCause {
      __typename
      ... on FlowActivationCauseAutoPolling {
        __typename
      }
      ... on FlowActivationCauseManual {
        initiator {
          ...Account
        }
      }
      ... on FlowActivationCauseDatasetUpdate {
        dataset {
          ...DatasetBasics
        }
        source {
          __typename
          ... on FlowActivationCauseDatasetUpdateSourceUpstreamFlow {
            flowId
          }
          ... on FlowActivationCauseDatasetUpdateSourceHttpIngest {
            sourceName
          }
          ... on FlowActivationCauseDatasetUpdateSourceSmartProtocolPush {
            accountName
            isForce
          }
        }
      }
    }
  }

  ... on FlowEventStartConditionUpdated {
    startCondition {
      __typename
      ... on FlowStartConditionThrottling {
        intervalSec
        wakeUpAt
        shiftedFrom
      }

      ... on FlowStartConditionReactive {
        activeBatchingRule {
          __typename
          ... on FlowTriggerBatchingRuleBuffering {
            minRecordsToAwait
            maxBatchingInterval {
              ...TimeDeltaData
            }
          }
        }
        batchingDeadline
        accumulatedRecordsCount
        watermarkModified
      }

      ... on FlowStartConditionSchedule {
        wakeUpAt
      }

      ... on FlowStartConditionExecutor {
        taskId
      }
    }
  }

  ... on FlowEventScheduledForActivation {
    __typename
    scheduledForActivationAt
  }

  ... on FlowEventTaskChanged {
    __typename
    taskId
    taskStatus
    task {
      outcome {
        __typename
        ... on TaskOutcomeFailed {
          reason {
            __typename
            ... on TaskFailureReasonGeneral {
              message
              recoverable
            }

            ... on TaskFailureReasonInputDatasetCompacted {
              message
              inputDataset {
                ...DatasetBasics
              }
            }

            ... on TaskFailureReasonWebhookDeliveryProblem {
              message
              targetUrl
            }
          }
        }
      }
    }
    nextAttemptAt
  }

  ... on FlowEventActivationCauseAdded {
    activationCause {
      __typename
      ... on FlowActivationCauseAutoPolling {
        __typename
      }
      ... on FlowActivationCauseManual {
        initiator {
          ...Account
        }
      }
      ... on FlowActivationCauseDatasetUpdate {
        dataset {
          ...DatasetBasics
        }
        source {
          __typename
          ... on FlowActivationCauseDatasetUpdateSourceUpstreamFlow {
            flowId
          }
          ... on FlowActivationCauseDatasetUpdateSourceHttpIngest {
            sourceName
          }
          ... on FlowActivationCauseDatasetUpdateSourceSmartProtocolPush {
            accountName
            isForce
          }
        }
      }
    }
  }

  ... on FlowConfigSnapshotModified {
    configSnapshot {
      __typename
    }
  }
}
