fragment FlowSummaryData on Flow {
  description {
    ... on FlowDescriptionDatasetPollingIngest {
      pollingSource {
        fetch {
          ...FetchStepUrlData
          ...FetchStepFilesGlobData
          ...FetchStepContainerData
        }
      }

      ingestResult {
        ... on FlowDescriptionUpdateResultUpToDate {
          uncacheable
        }

        ... on FlowDescriptionUpdateResultSuccess {
          numBlocks
          numRecords
          updatedWatermark
        }

        ... on FlowDescriptionUpdateResultUnknown {
          message
        }
      }
    }

    ... on FlowDescriptionDatasetPushIngest {
      sourceName
      ingestResult {
        ... on FlowDescriptionUpdateResultUpToDate {
          uncacheable
        }

        ... on FlowDescriptionUpdateResultSuccess {
          numBlocks
          numRecords
          updatedWatermark
        }

        ... on FlowDescriptionUpdateResultUnknown {
          message
        }
      }
    }

    ... on FlowDescriptionDatasetExecuteTransform {
      transform {
        inputs {
          __typename
        }
        transform {
          ... on TransformSql {
            engine
          }
        }
      }

      transformResult {
        ... on FlowDescriptionUpdateResultUpToDate {
          uncacheable
        }

        ... on FlowDescriptionUpdateResultSuccess {
          numBlocks
          numRecords
          updatedWatermark
        }

        ... on FlowDescriptionUpdateResultUnknown {
          message
        }
      }
    }

    ... on FlowDescriptionDatasetHardCompaction {
      compactionResult {
        ... on FlowDescriptionReorganizationSuccess {
          originalBlocksCount
          resultingBlocksCount
          newHead
        }

        ... on FlowDescriptionReorganizationNothingToDo {
          message
          dummy
        }
      }
    }

    ... on FlowDescriptionSystemGC {
      dummy
    }

    ... on FlowDescriptionDatasetReset {
      resetResult {
        newHead
      }
    }

    ... on FlowDescriptionDatasetResetToMetadata {
      resetToMetadataResult {
        ... on FlowDescriptionReorganizationSuccess {
          originalBlocksCount
          resultingBlocksCount
          newHead
        }

        ... on FlowDescriptionReorganizationNothingToDo {
          message
          dummy
        }
      }
    }

    ... on FlowDescriptionWebhookDeliver {
      targetUrl
      label
      eventType
    }
  }

  flowId
  datasetId
  status

  initiator {
    ...Account
  }

  outcome {
    ...FlowOutcomeData
  }

  timing {
    initiatedAt
    firstAttemptScheduledAt
    scheduledAt
    awaitingExecutorSince
    runningSince
    lastAttemptFinishedAt
  }

  startCondition {
    __typename
    ... on FlowStartConditionThrottling {
      intervalSec
      wakeUpAt
      shiftedFrom
    }

    ... on FlowStartConditionReactive {
      activeBatchingRule {
        __typename
        ... on FlowTriggerBatchingRuleBuffering {
          maxBatchingInterval {
            ...TimeDeltaData
          }
          minRecordsToAwait
        }
      }
      batchingDeadline
      accumulatedRecordsCount
      watermarkModified
    }

    ... on FlowStartConditionSchedule {
      wakeUpAt
    }

    ... on FlowStartConditionExecutor {
      taskId
    }
  }

  configSnapshot {
    ... on FlowConfigRuleIngest {
      fetchUncacheable
    }
  }

  taskIds

  retryPolicy {
    maxAttempts
  }
}
