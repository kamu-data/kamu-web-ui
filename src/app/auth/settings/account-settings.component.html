<div class="pt-4 p-responsive clearfix" *ngIf="componentData$ | async as data">
    <div class="d-md-flex align-items-center justify-content-between mt-1 mb-4">
        <div class="d-flex align-items-center mb-2 mb-md-0">
            <img
                [src]="data.user?.avatarUrl ?? DEFAULT_AVATAR_URL"
                [alt]="'@' + data.user?.accountName"
                size="48"
                height="48"
                width="48"
                data-view-component="true"
                class="avatar rounded-circle mr-3"
            />
            <div class="flex-auto mx-4 mt-3">
                <a
                    [routerLink]="['/', data.user?.accountName]"
                    class="color-fg-default fw-bold-custom fs-5"
                    data-test-id="user-name-link"
                >
                    {{ data.user?.displayName }} <span class="text-muted">({{ data.user?.accountName }})</span>
                </a>
                <div class="d-flex align-items-center flex-wrap">
                    <p class="color-fg-muted">Your personal account</p>
                </div>
            </div>
        </div>
        <div class="box p-4" *ngIf="isAdmin">
            <mat-slide-toggle
                [(ngModel)]="data.adminPriveleges"
                (change)="adminSlideToggleChange($event)"
                color="primary"
                class="mat-elevation-z0"
            >
                <span class="ps-2"> Admin priveleges</span>
            </mat-slide-toggle>
        </div>
    </div>
    <div
        class="d-flex layout layout--flowRow-until-md layout--sidebar-position-start layout--sidebarPosition-flowRow-start"
    >
        <div class="layout-sidebar">
            <div class="pr-md-4 pr-0">
                <div data-catalyst="">
                    <nav>
                        <ul role="list" class="action-list">
                            <li
                                data-item-id="settings_user_profile"
                                data-view-component="true"
                                [ngClass]="{
                                    'action-list-item--nav__active': activeTab === AccountSettingsTabs.PROFILE
                                }"
                                class="action-list-item"
                            >
                                <!-- TODO: Add when menu item becomes active-->
                                <!-- [routerLink]="getRouteLink(AccountSettingsTabs.PROFILE)" -->
                                <a
                                    routerLinkActive="active"
                                    aria-current="page"
                                    data-view-component="true"
                                    class="action-list-content disabled"
                                >
                                    <span
                                        class="action-list-item-visual action-list-item-visual--leading text-muted mr-2"
                                    >
                                        <svg-icon name="public-profile" />
                                    </span>
                                    <span class="action-list-item-label"> Public profile </span>
                                </a>
                            </li>
                            <li
                                [ngClass]="{
                                    'action-list-item--nav__active': activeTab === AccountSettingsTabs.ACCOUNT
                                }"
                                class="action-list-item"
                            >
                                <!-- [routerLink]="getRouteLink(AccountSettingsTabs.ACCOUNT)" -->
                                <a
                                    routerLinkActive="active"
                                    data-view-component="true"
                                    class="action-list-content disabled"
                                >
                                    <span
                                        class="action-list-item-visual action-list-item-visual--leading text-muted mr-2"
                                    >
                                        <svg-icon name="account" />
                                    </span>
                                    <span class="action-list-item-label"> Account </span>
                                </a>
                            </li>
                            <li
                                data-item-id=""
                                data-view-component="true"
                                [ngClass]="{
                                    'action-list-item--nav__active': activeTab === AccountSettingsTabs.APPEARANCE
                                }"
                                class="action-list-item"
                            >
                                <!-- [routerLink]="getRouteLink(AccountSettingsTabs.APPEARANCE)" -->
                                <a
                                    routerLinkActive="active"
                                    data-view-component="true"
                                    class="action-list-content disabled"
                                >
                                    <span
                                        class="action-list-item-visual action-list-item-visual--leading text-muted mr-2"
                                    >
                                        <svg-icon name="appearance" />
                                    </span>
                                    <span class="action-list-item-label"> Appearance </span>
                                </a>
                            </li>
                            <li
                                data-item-id=""
                                data-view-component="true"
                                [ngClass]="{
                                    'action-list-item--nav__active': activeTab === AccountSettingsTabs.ACCESSIBILITY
                                }"
                                class="action-list-item"
                            >
                                <!-- [routerLink]="getRouteLink(AccountSettingsTabs.ACCESSIBILITY)" -->
                                <a
                                    routerLinkActive="active"
                                    data-view-component="true"
                                    class="action-list-content disabled"
                                >
                                    <span
                                        class="action-list-item-visual action-list-item-visual--leading text-muted mr-2"
                                    >
                                        <svg-icon name="accessibility" />
                                    </span>
                                    <span class="action-list-item-label"> Accessibility </span>
                                </a>
                            </li>
                            <li
                                data-item-id=""
                                data-view-component="true"
                                [ngClass]="{
                                    'action-list-item--nav__active': activeTab === AccountSettingsTabs.NOTIFICATIONS
                                }"
                                class="action-list-item"
                            >
                                <!-- [routerLink]="getRouteLink(AccountSettingsTabs.NOTIFICATIONS)" -->
                                <a
                                    routerLinkActive="active"
                                    data-view-component="true"
                                    class="action-list-content disabled"
                                >
                                    <span
                                        class="action-list-item-visual action-list-item-visual--leading text-muted mr-2"
                                    >
                                        <svg-icon name="notifications" />
                                    </span>
                                    <span class="action-list-item-label"> Notifications </span>
                                </a>
                            </li>
                            <li
                                role="separator"
                                aria-hidden="true"
                                data-view-component="true"
                                class="action-list-section-divider"
                            ></li>
                            <li data-view-component="true" class="action-list-section-divider">
                                <p
                                    id="nav-list-section-2534b94a-735f-4cd6-bfff-c0f48caf7cab"
                                    data-view-component="true"
                                    class="action-list-section-divider-title"
                                >
                                    Access
                                </p>
                            </li>
                            <li data-view-component="true" class="action-list-item action-list-item--hasSubItem">
                                <ul
                                    aria-labelledby="nav-list-section-2534b94a-735f-4cd6-bfff-c0f48caf7cab"
                                    data-view-component="true"
                                    class="action-list action-list--subGroup"
                                >
                                    <li
                                        data-item-id=""
                                        data-view-component="true"
                                        class="action-list-item"
                                        [ngClass]="{
                                            'action-list-item--nav__active': activeTab === AccountSettingsTabs.BILLING
                                        }"
                                    >
                                        <!-- [routerLink]="getRouteLink(AccountSettingsTabs.BILLING)" -->
                                        <a
                                            routerLinkActive="active"
                                            data-view-component="true"
                                            class="action-list-content disabled"
                                        >
                                            <span
                                                class="action-list-item-visual action-list-item-visual--leading text-muted mr-2"
                                            >
                                                <svg-icon name="billing" />
                                            </span>
                                            <span class="action-list-item-label"> Billing and plans </span>
                                        </a>
                                    </li>
                                    <li
                                        data-item-id=""
                                        data-view-component="true"
                                        class="action-list-item"
                                        [ngClass]="{
                                            'action-list-item--nav__active': activeTab === AccountSettingsTabs.EMAILS
                                        }"
                                    >
                                        <!-- [routerLink]="getRouteLink(AccountSettingsTabs.EMAILS)" -->
                                        <a
                                            routerLinkActive="active"
                                            data-view-component="true"
                                            class="action-list-content disabled"
                                        >
                                            <span
                                                class="action-list-item-visual action-list-item-visual--leading text-muted mr-2"
                                            >
                                                <svg-icon name="emails" />
                                            </span>
                                            <span class="action-list-item-label"> Emails </span>
                                        </a>
                                    </li>
                                    <li
                                        data-item-id=""
                                        data-view-component="true"
                                        class="action-list-item"
                                        [ngClass]="{
                                            'action-list-item--nav__active': activeTab === AccountSettingsTabs.SECURITY
                                        }"
                                    >
                                        <!-- [routerLink]="getRouteLink(AccountSettingsTabs.SECURITY)" -->
                                        <a
                                            routerLinkActive="active"
                                            data-view-component="true"
                                            class="action-list-content disabled"
                                        >
                                            <span
                                                class="action-list-item-visual action-list-item-visual--leading text-muted mr-2"
                                            >
                                                <svg-icon name="security" />
                                            </span>
                                            <span class="action-list-item-label"> Password and authentication </span>
                                        </a>
                                    </li>
                                    <li
                                        data-item-id=""
                                        data-view-component="true"
                                        class="action-list-item"
                                        [ngClass]="{
                                            'action-list-item--nav__active':
                                                activeTab === AccountSettingsTabs.ORGANIZATIONS
                                        }"
                                    >
                                        <!-- [routerLink]="getRouteLink(AccountSettingsTabs.ORGANIZATIONS)" -->
                                        <a
                                            routerLinkActive="active"
                                            data-view-component="true"
                                            class="action-list-content disabled"
                                        >
                                            <span
                                                class="action-list-item-visual action-list-item-visual--leading text-muted mr-2"
                                            >
                                                <svg-icon name="organizations" />
                                            </span>
                                            <span class="action-list-item-label"> Organizations </span>
                                        </a>
                                    </li>
                                    <li
                                        data-item-id=""
                                        data-view-component="true"
                                        class="action-list-item"
                                        [ngClass]="{
                                            'action-list-item--nav__active':
                                                activeTab === AccountSettingsTabs.ACCESS_TOKENS
                                        }"
                                    >
                                        <a
                                            routerLinkActive="active"
                                            [routerLink]="getRouteLink(AccountSettingsTabs.ACCESS_TOKENS)"
                                            data-view-component="true"
                                            class="action-list-content"
                                        >
                                            <span
                                                class="action-list-item-visual action-list-item-visual--leading text-muted mr-2"
                                            >
                                                <svg-icon name="access-token" />
                                            </span>
                                            <span class="action-list-item-label"> Access tokens </span>
                                        </a>
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </nav>
                </div>
            </div>
        </div>
        <div class="content">
            <ng-container *ngIf="activeTab === AccountSettingsTabs.ACCESS_TOKENS">
                <app-access-tokens-tab [account]="data.user!" />
            </ng-container>
        </div>
    </div>
</div>
