<div class="d-flex align-items-center" data-test-id="cron-expression-form">
    <div class="d-flex align-middle">
        <span class="form-control-label d-block">{{ label }}</span>
    </div>
    <input
        type="text"
        [formControl]="cronExpressionControl"
        [placeholder]="placeholder"
        class="form-control form-control-expression"
        data-test-id="cron-expression-input"
    />

    <ng-container
        *ngIf="
            cronExpressionControl?.errors?.invalidCronExpression &&
                (cronExpressionControl?.touched || cronExpressionControl?.dirty);
            else nextTimeTemplate
        "
    >
        <div class="text-danger fs-12 ms-4 text-break" data-test-id="cron-expression-error">Invalid expression</div>
    </ng-container>

    <ng-template #nextTimeTemplate>
        <span *ngIf="cronExpressionControl?.valid && cronExpressionControl?.value" class="fs-12 ms-4"
            >Next time: {{ nextTime }}</span
        >
    </ng-template>
</div>

<div *ngIf="showHelpText" class="text-muted fs-12 border-top px-4 py-4 mt-4">
    Cron expression accepted values
    <div class="fs-12">1. minutes: 0-59 * , -</div>
    <div class="fs-12">2. hours: 0-23 * , -</div>
    <div class="fs-12">3. day of month: 1-31 * , - ?</div>
    <div class="fs-12">4. months: (JAN-DEC or 1-12) * , -</div>
    <div class="fs-12">5. day of week: (SUN-SAT or 1-7) * , - ?</div>
</div>
