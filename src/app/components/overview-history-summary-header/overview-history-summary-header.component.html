<div class="overview-summary-background">
    <div class="box-header position-relative" *ngIf="metadataBlockFragment">
        <div class="d-flex rounded-top-1 border-bottom-0 align-items-center flex-wrap">
            <div class="flex-shrink-0 ml-n1 mr-n1 mt-n1 mb-n1 hx_avatar_stack_commit">
                <div class="align-self-start">
                    <div>
                        <a>
                            <img
                                data-test-selector="commits-avatar-stack-avatar-image"
                                [src]="authorInfo.avatarUrl || DEFAULT_AVATAR_URL"
                                class="avatar-image"
                            />
                        </a>
                    </div>
                </div>
            </div>
            <div class="flex-grow-1 d-flex align-items-center ms-3 min-width-0">
                <div class="css-truncate css-truncate-overflow color-fg-muted">
                    <a
                        class="commit-author user-mention"
                        *ngIf="authorInfo?.accountName"
                        [title]="'View all commits by ' + authorInfo.accountName"
                        [routerLink]="['/', authorInfo.accountName]"
                        >{{ authorInfo.accountName }}</a
                    >
                    <span class="d-none d-sm-inline mb-0 ml-3">
                        <a
                            *ngIf="metadataBlockFragment?.event"
                            data-pjax="true"
                            data-test-selector="commit-tease-commit-message"
                            title="Styles was changed"
                            class="link--primary"
                            data-test-id="navigate-to-metadata-block"
                            (click)="
                                navigateToMetadataBlock(
                                    metadataBlockFragment.author.accountName,
                                    datasetName,
                                    metadataBlockFragment.blockHash
                                )
                            "
                            >{{ descriptionForMetadataBlock }}</a
                        >
                    </span>
                </div>
                <span class="hidden-text-expander m-2 d-inline-block d-inline-block d-lg-none">
                    <button
                        id="more-button"
                        type="button"
                        class="color-fg-default ellipsis-expander js-details-target"
                        aria-expanded="false"
                    >
                        â€¦
                    </button>
                </span>
                <div
                    *ngIf="metadataBlockFragment"
                    class="d-flex flex-auto justify-content-end ml-3 align-items-baseline"
                >
                    <app-display-hash
                        [value]="metadataBlockFragment.blockHash"
                        [navigationTargetDataset]="{
                            accountName: metadataBlockFragment.author.accountName,
                            datasetName: this.datasetName
                        }"
                        [class]="'f6 link--secondary text-mono ml-2 d-none d-lg-inline'"
                    ></app-display-hash>
                    <a class="link--secondary ml-3">
                        <app-display-time
                            [data]="systemTime"
                            class="no-wrap"
                            [dataTestId]="'time-overview-history-summary'"
                        ></app-display-time>
                    </a>
                </div>
            </div>
            <div class="flex-shrink-0">
                <h2 class="sr-only">Git stats</h2>
                <ul class="list-unstyled d-flex mb-0 ml-3">
                    <li class="ml-0 ml-md-3">
                        <a
                            data-pjax="#repo-content-pjax-container"
                            href="#todo-navigate-to-history"
                            class="pl-3 pr-3 py-3 p-md-0 mt-n3 mb-n3 mr-n3 m-md-0 link--primary text-decoration-none flex-nowrap"
                        >
                            <svg-icon name="history"></svg-icon>
                            <span class="d-none d-sm-inline">
                                <strong>{{ numBlocksTotal }}</strong>
                                <span aria-label="Commits on KAMU-58" class="color-fg-muted d-none d-lg-inline">
                                    blocks
                                </span>
                            </span>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</div>
