<h2>Ingest configuration</h2>
<mat-divider class="mt-1 mb-2" />
<div class="box mt-4 p-4" *ngIf="isRootDataset">
    <form [formGroup]="form">
        <div class="w-100 mt-4">
            <app-ingest-configuration-rule-form [form]="form.controls.ingestConfig" />
        </div>
        <div class="w-100 mt-4">
            <app-flow-retry-policy-form [form]="form.controls.flowRetryPolicy" />
        </div>
        <div class="mt-4 d-flex justify-content-end">
            <button
                type="button"
                class="btn btn-success"
                [disabled]="form.invalid"
                (click)="saveConfiguration()"
                data-test-id="save-ingest-configuration"
            >
                Save
            </button>
        </div>
    </form>
</div>
