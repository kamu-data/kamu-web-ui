<div class="custom-container">
    <h2>Scheduled updates</h2>
    <mat-divider class="mt-1 mb-2" />
    <div class="box mt-3 p-4" *ngIf="isRootDataset">
        <div class="d-flex flex-column gap-4">
            <div class="w-100">
                <app-ingest-trigger-form
                    [datasetBasics]="datasetBasics"
                    [updateStateToggleLabel]="'Enable/Disable updates'"
                    (changeTriggerEmit)="changePollingTriggers($event)"
                />
            </div>

            <div class="w-100">
                <app-ingest-configuration-form
                    *ngIf="pollingForm"
                    [datasetBasics]="datasetBasics"
                    [disabled]="pollingForm.controls.updatesState.value"
                    (changeConfigurationEmit)="changeIngestConfiguration($event)"
                />
            </div>
        </div>
        <div class="mt-4 d-flex justify-content-end">
            <button
                type="button"
                class="btn btn-success"
                (click)="saveScheduledUpdates()"
                [disabled]="invalidPollingForm"
                data-test-id="save-polling-triggers"
            >
                Save
            </button>
        </div>
    </div>
</div>
