<div class="d-flex p-4">
    <div class="flex-grow-1 ms-2">
        <span class="fs-5 fw-bold">{{ "Webhook subscription rotate secret" }}</span>
    </div>
    <div>
        <button
            type="button"
            class="btn-close"
            aria-label="Close"
            (keydown.esc)="activeModal.close()"
            (click)="activeModal.close()"
        ></button>
    </div>
</div>
<div class="px-4">
    <mat-divider />
</div>

<div class="body p-4">
    <div class="d-flex flex-column">
        <ng-container *ngIf="secretRotate">
            <label for="" class="form-label">Secret </label>
            <div class="d-flex flex-row mb-3">
                <input
                    type="text"
                    data-test-id="subscription-secret-rotate"
                    [ngModel]="secretRotate"
                    class="form-control w-100"
                    readonly
                />
                <button
                    (click)="copyToClipboard($event, secretRotate!)"
                    data-test-id="copyToClipboard-secret"
                    aria-label="Copy to clipboard"
                    class="copy-button-data-access ms-1"
                    tabindex="0"
                    role="button"
                    [disabled]="!secretRotate"
                >
                    <div style="position: relative; display: inline-block">
                        <mat-icon class="mat-icon-svg-size" svgIcon="copy" />
                    </div>
                    <div style="position: relative; display: none">
                        <mat-icon class="mat-icon-svg-size" svgIcon="checked" />
                    </div>
                </button>
            </div>
        </ng-container>
        <div class="d-flex flex-row">
            <button
                type="button"
                (click)="activeModal.close()"
                class="btn btn-light flex-fill me-2"
                data-test-id="cancel-rotate-secret"
            >
                Cancel
            </button>

            <button
                type="button"
                [disabled]="true"
                class="btn btn-primary d-block flex-fill"
                data-test-id="rotate-secret-btn"
                appFeatureFlag="dataset.panel.settings.webhooks.rotateSecret"
            >
                Rotate secret
            </button>
        </div>
    </div>
</div>
