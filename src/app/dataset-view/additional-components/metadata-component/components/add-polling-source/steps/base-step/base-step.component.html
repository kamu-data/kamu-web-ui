<div [formGroupName]="sectionName" *ngIf="sectionForm">
    <h2 class="text-center">
        {{ title }}
    </h2>
    <app-select-kind-field
        [form]="sectionForm"
        [data]="sectionStepRadioData"
    ></app-select-kind-field>
    <div class="row">
        <ng-container
            *ngFor="
                let control of sectionFormData[
                    sectionForm.get(KIND_NAME_CONTROL)?.value
                ]?.controls
            "
        >
            <div class="col-md-8 offset-md-2 mt-4">
                <ng-container *ngIf="control.type === controlType.TEXT">
                    <app-input-field
                        [form]="sectionForm"
                        [controlName]="control.name"
                        [label]="control.label"
                        [value]="control.value"
                        [requiredField]="control.validators.required"
                        [placeholder]="control.placeholder"
                        [tooltip]="control.tooltip!"
                    ></app-input-field>
                </ng-container>
                <ng-container
                    *ngIf="control.type === controlType.ARRAY_KEY_VALUE"
                >
                    <app-key-value-field
                        [form]="sectionForm"
                        [controlName]="control.options?.formArrayName!"
                        [label]="control.label!"
                        [buttonText]="control.options?.buttonText!"
                        [tooltip]="control.tooltip!"
                    ></app-key-value-field>
                </ng-container>
                <ng-container *ngIf="control.type === controlType.ARRAY_KEY">
                    <app-array-keys-field
                        [form]="sectionForm"
                        [controlName]="control.name"
                        [label]="control.label"
                        [buttonText]="control.options?.buttonText!"
                        [placeholder]="control.placeholder!"
                        [tooltip]="control.tooltip!"
                    ></app-array-keys-field>
                </ng-container>
                <ng-container *ngIf="control.type === controlType.CHECKBOX">
                    <app-checkbox-field
                        [form]="sectionForm"
                        [controlName]="control.name"
                        [label]="control.label"
                        [checked]="control.value"
                        [dataTestId]="control.dataTestId"
                        [tooltip]="control.tooltip!"
                    >
                    </app-checkbox-field>
                </ng-container>
                <ng-container *ngIf="control.type === controlType.SCHEMA">
                    <app-schema-field
                        [form]="sectionForm"
                        [controlName]="control.name"
                        [label]="control.label"
                        [tooltip]="control.tooltip!"
                    >
                    </app-schema-field>
                </ng-container>
                <ng-container *ngIf="control.type === controlType.EVENT_TIME">
                    <app-select-date-format-field
                        [form]="sectionForm"
                        [controlName]="control.name"
                        [label]="control.label"
                        [tooltip]="control.tooltip!"
                        [innerTooltips]="control.options?.innerTooltips!"
                    >
                    </app-select-date-format-field>
                </ng-container>
                <ng-container *ngIf="control.type === controlType.CACHE">
                    <app-cache-field
                        [form]="sectionForm"
                        [controlName]="control.name"
                        [label]="control.label"
                        [tooltip]="control.tooltip!"
                    >
                    </app-cache-field>
                </ng-container>
                <ng-container *ngIf="control.type === controlType.ORDER">
                    <app-order-field
                        [form]="sectionForm"
                        [controlName]="control.name"
                        [label]="control.label"
                        [tooltip]="control.tooltip!"
                    ></app-order-field>
                </ng-container>
                <ng-container *ngIf="control.type === controlType.TYPEAHEAD">
                    <app-typeahead-field
                        [form]="sectionForm"
                        [controlName]="control.name"
                        [label]="control.label"
                        [placeholder]="control.placeholder!"
                        [data]="control.list!"
                        [tooltip]="control.tooltip!"
                        [maxLength]="control.validators.maxLength"
                    ></app-typeahead-field>
                </ng-container>
            </div>
        </ng-container>
        <ng-content></ng-content>
    </div>
</div>
