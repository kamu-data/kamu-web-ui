<div [formGroupName]="groupName" *ngIf="sectionForm">
    <h2 class="text-center">{{ title }}</h2>
    <app-select-kind-field
        [form]="sectionForm"
        [data]="sectionStepRadioData"
    ></app-select-kind-field>
    <div class="row">
        <ng-container
            *ngFor="
                let control of sectionFormData[
                    sectionForm.get(kindNameControl)?.value
                ]?.controls
            "
        >
            <div class="col-md-8 offset-md-2 mt-4">
                <ng-container *ngIf="control.type === controlType.TEXT">
                    <app-input-field
                        [form]="sectionForm"
                        [controlName]="control.name"
                        [label]="control.label"
                        [value]="control.value"
                        [requiredField]="control.validators.required"
                        [placeholder]="control.placeholder"
                    ></app-input-field>
                </ng-container>
                <ng-container
                    *ngIf="control.type === controlType.ARRAY_KEY_VALUE"
                >
                    <app-key-value-field
                        [form]="sectionForm"
                        [controlName]="control.options?.formArrayName!"
                        [label]="control.label!"
                        [buttonText]="control.options?.buttonText!"
                    ></app-key-value-field>
                </ng-container>
                <ng-container *ngIf="control.type === controlType.ARRAY_KEY">
                    <app-array-keys-field
                        [form]="sectionForm"
                        [controlName]="control.name"
                        [label]="control.label"
                        [buttonText]="control.options?.buttonText!"
                        [placeholder]="control.placeholder!"
                    ></app-array-keys-field>
                </ng-container>
                <ng-container *ngIf="control.type === controlType.CHECKBOX">
                    <app-checkbox-field
                        [form]="sectionForm"
                        [controlName]="control.name"
                        [label]="control.label"
                        [checked]="control.value"
                        [dataTestId]="control.dataTestId"
                    >
                    </app-checkbox-field>
                </ng-container>
                <ng-container *ngIf="control.type === controlType.SCHEMA">
                    <app-schema-field
                        [form]="sectionForm"
                        [controlName]="control.name"
                        [label]="control.label"
                    >
                    </app-schema-field>
                </ng-container>
                <ng-container *ngIf="control.type === controlType.EVENT_TIME">
                    <app-event-time-field
                        [form]="sectionForm"
                        [controlName]="control.name"
                        [label]="control.label"
                    >
                    </app-event-time-field>
                </ng-container>
            </div>
        </ng-container>
        <ng-content></ng-content>
    </div>
</div>
