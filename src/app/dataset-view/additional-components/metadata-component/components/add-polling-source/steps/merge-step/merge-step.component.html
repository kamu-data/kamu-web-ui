<ng-container formGroupName="merge" *ngIf="mergeForm">
    <div>
        <h2 class="text-center">Merge</h2>
        <app-select-kind-field
            [form]="mergeForm"
            [data]="mergeStepRadioData"
        ></app-select-kind-field>
        <div class="mt-4 row">
            <div *ngIf="mergeForm.get('kind')?.value === 'append'"></div>
            <div *ngIf="mergeForm.get('kind')?.value === 'ledger'">
                <div>
                    <div
                        class="col-md-8 offset-md-2"
                        *ngIf="mergeForm?.get('primaryKey')"
                    >
                        <app-array-keys-field
                            [form]="mergeForm"
                        ></app-array-keys-field>
                    </div>
                </div>
            </div>
            <div *ngIf="mergeForm?.get('kind')?.value === 'snapshot'">
                <div class="row mt-4">
                    <div
                        class="col-md-8 offset-md-2"
                        *ngIf="mergeForm.get('primaryKey')"
                    >
                        <app-array-keys-field
                            [form]="mergeForm"
                        ></app-array-keys-field>
                    </div>
                </div>
                <div
                    class="col-md-8 offset-md-2 mt-4"
                    *ngIf="mergeForm.get('observationColumn')"
                >
                    <app-input-field
                        [form]="mergeForm"
                        controlName="observationColumn"
                        label="Observation column"
                        placeholder="Please enter column name..."
                        dataTestId="merge-observationColumn"
                        id="observationColumn"
                    ></app-input-field>
                </div>
            </div>
        </div>
        <div *ngIf="errorMessage" class="alert alert-danger mt-2" role="alert">
            <p class="text-danger fs-6">Error:<br />{{ errorMessage }}</p>
        </div>
    </div>
</ng-container>
