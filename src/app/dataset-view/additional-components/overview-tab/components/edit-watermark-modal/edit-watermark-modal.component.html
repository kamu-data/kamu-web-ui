<div class="d-flex p-4">
    <div class="flex-grow-1 ms-2 text-center">
        <span class="fs-5 fw-bold"> Set Watermark</span>
    </div>
    <div>
        <button type="button" class="btn-close" aria-label="Close" (click)="activeModal.close()"></button>
    </div>
</div>
<div class="px-4">
    <mat-divider />
</div>
<div class="p-4">
    <div class="d-flex align-middle">
        <span>
            <mat-icon class="fs-4">help_outline</mat-icon>
        </span>
        <p class="ps-2">
            A watermark defines a point in event time for which with a high probability all preceding events have been
            already observed. Telling the system
            <em>"You most likely will not get any events with time less than T any more"</em>
            allows it to advance the downstream computations, like windowed aggregations and streaming joins, and ensure
            consistent results. Watermarks are typically advanced automatically based on observed data or information
            from the data source, but you can also set them manually here.
        </p>
    </div>
</div>

<div class="body text-center">
    <div class="d-flex align-items-center pb-4 ms-4 ps-4">
        <span class="me-4">Time zone:</span>
        <select class="form-select w-75" [(ngModel)]="timeZone">
            <option [ngValue]="timeZone">(UTC{{ createOffset() }}) {{ timeZone }}</option>
        </select>
    </div>
    <div class="d-flex align-items-center ms-4 ps-4">
        <span>Watermark:</span>
        <input
            [(ngModel)]="date"
            [owlDateTime]="fromdatepicker"
            placeholder="Date Time"
            class="form-control w-67 ms-4"
            name="fromDate"
            [min]="minLocalWatermark"
        />
        <owl-date-time #fromdatepicker />
        <span [owlDateTimeTrigger]="fromdatepicker" class="trigger ms-2"><mat-icon>calendar_month</mat-icon> </span>
    </div>
</div>
<div class="p-4 d-flex justify-content-end">
    <button
        type="button"
        class="btn btn-success"
        (click)="commitSetWatermarkEvent()"
        data-test-id="commit-setWatermark-event"
        [disabled]="isDateValid"
    >
        Save
    </button>
</div>
