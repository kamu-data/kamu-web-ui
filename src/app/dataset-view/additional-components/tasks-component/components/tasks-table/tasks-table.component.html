<table mat-table [dataSource]="tasks!">
    <!-- Description Column -->
    <ng-container matColumnDef="description">
        <th mat-header-cell *matHeaderCellDef>Description</th>
        <td mat-cell *matCellDef="let element" style="width: 50%">
            <div class="d-flex align-items-center">
                <div class="d-flex align-items-center justify-content-center">
                    <mat-icon
                        *ngIf="element.status === TaskStatus.Finished && element.outcome === TaskOutcome.Success"
                        class="icon-status completed-status"
                        >check_circle</mat-icon
                    >
                    <mat-icon *ngIf="element.status === TaskStatus.Running" class="icon-status running-status"
                        >radio_button_checked</mat-icon
                    >
                    <mat-icon
                        *ngIf="element.status === TaskStatus.Finished && element.outcome === TaskOutcome.Failed"
                        class="icon-status failed-status"
                        >dangerous</mat-icon
                    >
                </div>
                <div class="ms-4 py-3">
                    <span class="fw-500"> {{ element.description }} </span>
                    <span class="d-block fs-10"> {{ element.information }}</span>
                </div>
            </div>
        </td>
    </ng-container>

    <!-- Information Column -->
    <ng-container matColumnDef="information">
        <th mat-header-cell *matHeaderCellDef>Information</th>
        <td mat-cell *matCellDef="let element" style="width: 20%">
            <div class="d-flex flex-column p-3">
                <div class="d-flex align-items-center">
                    <mat-icon *ngIf="element.status === TaskStatus.Running" class="icon-status running-status"
                        >download</mat-icon
                    >
                    <mat-icon
                        *ngIf="element.status === TaskStatus.Finished && element.outcome === TaskOutcome.Success"
                        class="icon-status completed-status"
                        >done</mat-icon
                    >
                    <mat-icon
                        *ngIf="element.status === TaskStatus.Finished && element.outcome === TaskOutcome.Failed"
                        class="icon-status failed-status"
                        >report</mat-icon
                    >
                    <span class="ms-1 text-small"> {{ element.status }}</span>
                </div>
                <div class="d-flex align-items-center">
                    <mat-icon class="icon-status">event_available</mat-icon>
                    <span class="ms-1 text-small"> yesterday</span>
                </div>
                <div class="d-flex align-items-center">
                    <mat-icon class="icon-status">alarm_on</mat-icon>
                    <span class="ms-1 text-small"> for 20 seconds</span>
                </div>
            </div>
        </td>
    </ng-container>

    <!-- Creator Column -->
    <ng-container matColumnDef="creator">
        <th mat-header-cell *matHeaderCellDef>Creator</th>
        <td mat-cell *matCellDef="let element" style="width: 20%">
            <div class="d-flex align-items-center">
                <img class="img-creator" [src]="'https://avatars.githubusercontent.com/u/11951648?v=4'" />
                <span class="ms-2 text-small"> {{ element.creator.accountName }}</span>
            </div>
        </td>
    </ng-container>

    <!-- Options Column -->
    <ng-container matColumnDef="options">
        <th mat-header-cell *matHeaderCellDef>Options</th>
        <td mat-cell *matCellDef="let element" style="width: 10%">
            <div class="pe-2">
                <button mat-button [matMenuTriggerFor]="tableOptions"><svg-icon name="show-options"></svg-icon></button>
                <mat-menu #tableOptions="matMenu" xPosition="before" [hasBackdrop]="true">
                    <button mat-menu-item>Details</button>
                    <mat-divider></mat-divider>
                    <button mat-menu-item>Cancel task</button>
                </mat-menu>
            </div>
        </td>
    </ng-container>

    <!-- <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr> -->
    <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
</table>

<div class="mt-100">
    <app-pagination [currentPage]="currentPage" [pageInfo]="pageInfo" data-test-id="pagination-tasks"></app-pagination>
</div>
