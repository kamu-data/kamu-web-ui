<div
    class="app-main-container"
    role="main"
    data-test-id="dataset-view"
    id="dataset-view"
>
    <div class="app-content">
        <app-dataset-view-header
            [datasetName]="datasetName"
            (showOwnerPageEmit)="showOwnerPage()"
            (onClickSearchAdditionalButtonEmit)="
                onClickSearchAdditionalButton($event)
            "
        ></app-dataset-view-header>
    </div>

    <div class="app-content">
        <div id="dataset-viewer">
            <app-dataset-view-menu
                [datasetViewType]="datasetViewType"
                [parentShareMethods]="getParentMethod()"
            ></app-dataset-view-menu>

            <ng-template [ngIf]="isDatasetViewTypeOverview">
                <app-overview
                    [isMarkdownEditView]="isMarkdownEditView"
                    [markdownText]="markdownText"
                    [datasetInfo]="datasetInfo"
                    [resultUnitText]="getResultUnitText()"
                    (onToggleReadmeViewEmit)="toggleReadmeView()"
                    (onSelectTopicEmit)="selectTopic($event)"
                    (onSelectDatasetEmit)="onSelectDataset($event)"
                ></app-overview>
            </ng-template>

            <ng-template [ngIf]="isDatasetViewTypeData && datasetName">
                <app-data
                    [datasetName]="datasetName"
                    (onSelectDatasetEmit)="onSelectDataset($event)"
                    (onRunSQLRequestEmit)="onRunSQLRequest($event)"
                ></app-data>
            </ng-template>

            <ng-template [ngIf]="isDatasetViewTypeHistory">
                <app-history
                    (onSelectDatasetEmit)="(null)"
                    (onPageChangeEmit)="onPageChange($event)"
                ></app-history>
            </ng-template>

            <ng-template [ngIf]="isDatasetViewTypeLinage">
                <app-linage
                    [linageGraphView]="linageGraphView"
                    [isAvailableLinageGraph]="isAvailableLinageGraph"
                    [linageGraphClusters]="linageGraphClusters"
                    [linageGraphLink]="linageGraphLink"
                    [linageGraphNodes]="linageGraphNodes"
                    (onClickNodeEmit)="onClickNode($event)"
                ></app-linage>
            </ng-template>

            <ng-template [ngIf]="isDatasetViewTypeMetadata">
                <app-metadata
                    [datasetInfo]="datasetInfo"
                    (onSelectDatasetEmit)="onSelectDataset($event)"
                    (onPageChangeEmit)="onPageChange($event)"
                    (onSelectTopicEmit)="selectTopic($event)"
                    (onClickDatasetEmit)="onClickNode($event)"
                ></app-metadata>
            </ng-template>
        </div>
    </div>
</div>
