<div class="app-main-container" role="main" data-test-id="dataset-view" id="dataset-view">
    <div class="app-content">
        <app-dataset-view-header
            [datasetInfo]="getDatasetInfoFromUrl()"
            (showOwnerPageEmit)="showOwnerPage(getDatasetInfoFromUrl().accountName)"
            (onClickSearchAdditionalButtonEmit)="onClickSearchAdditionalButton($event)"
        ></app-dataset-view-header>
    </div>

    <div class="app-content">
        <div id="dataset-viewer">
            <app-dataset-view-menu
                [datasetViewType]="datasetViewType"
                [datasetNavigation]="
                    getDatasetNavigation({
                        accountName: getDatasetInfoFromUrl().accountName,
                        datasetName: getDatasetInfoFromUrl().datasetName
                    })
                "
            ></app-dataset-view-menu>

            <ng-template [ngIf]="isDatasetViewTypeOverview">
                <app-overview [datasetBasics]="datasetBasics" (selectTopicEmit)="selectTopic($event)"></app-overview>
            </ng-template>

            <ng-template [ngIf]="isDatasetViewTypeData && datasetBasics">
                <app-data [datasetBasics]="datasetBasics" (runSQLRequestEmit)="onRunSQLRequest($event)"></app-data>
            </ng-template>

            <ng-template [ngIf]="isDatasetViewTypeHistory">
                <app-history
                    [datasetName]="datasetBasics?.name"
                    (onPageChangeEmit)="onPageChange($event)"
                ></app-history>
            </ng-template>

            <ng-template [ngIf]="isDatasetViewTypeLineage">
                <app-lineage
                    [lineageGraphView]="lineageGraphView"
                    (onClickNodeEmit)="onClickLineageNode($event)"
                ></app-lineage>
            </ng-template>

            <ng-template [ngIf]="isDatasetViewTypeMetadata">
                <app-metadata
                    [datasetBasics]="datasetBasics"
                    (pageChangeEmit)="onPageChange($event)"
                    (selectTopicEmit)="selectTopic($event)"
                    (clickDatasetEmit)="onClickMetadataNode($event)"
                ></app-metadata>
            </ng-template>
            <ng-template [ngIf]="isDatasetViewTypeSettings">
                <app-settings-tab [datasetBasics]="datasetBasics"></app-settings-tab>
            </ng-template>
        </div>
    </div>
</div>
