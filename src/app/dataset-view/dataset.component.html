<div
    class="app-main-container"
    role="main"
    data-test-id="dataset-view"
    id="dataset-view"
>
    <div class="app-content">
        <app-dataset-view-header
            [datasetBasics]="datasetBasics"
            (showOwnerPageEmit)="showOwnerPage()"
            (onClickSearchAdditionalButtonEmit)="
                onClickSearchAdditionalButton($event)
            "
        ></app-dataset-view-header>
    </div>

    <div class="app-content">
        <div id="dataset-viewer">
            <app-dataset-view-menu
                [datasetViewType]="datasetViewType"
                [datasetNavigation]="getDatasetNavigation()"
            ></app-dataset-view-menu>

            <ng-template [ngIf]="isDatasetViewTypeOverview">
                <app-overview
                    [isMarkdownEditView]="isMarkdownEditView"
                    [datasetBasics]="datasetBasics"
                    (onToggleReadmeViewEmit)="toggleReadmeView()"
                    (selectTopicEmit)="selectTopic($event)"
                ></app-overview>
            </ng-template>

            <ng-template [ngIf]="isDatasetViewTypeData && datasetBasics">
                <app-data
                    [datasetBasics]="datasetBasics"
                    (runSQLRequestEmit)="onRunSQLRequest($event)"
                ></app-data>
            </ng-template>

            <ng-template [ngIf]="isDatasetViewTypeHistory">
                <app-history
                    (onPageChangeEmit)="onPageChange($event)"
                ></app-history>
            </ng-template>

            <ng-template [ngIf]="isDatasetViewTypeLineage">
                <app-lineage
                    [lineageGraphView]="lineageGraphView"
                    [isAvailableLineageGraph]="isAvailableLineageGraph"
                    [lineageGraphClusters]="lineageGraphClusters"
                    [lineageGraphLink]="lineageGraphLink"
                    [lineageGraphNodes]="lineageGraphNodes"
                    (onClickNodeEmit)="onClickLineageNode($event)"
                ></app-lineage>
            </ng-template>

            <ng-template [ngIf]="isDatasetViewTypeMetadata">
                <app-metadata
                    [datasetBasics]="datasetBasics"
                    (pageChangeEmit)="onPageChange($event)"
                    (selectTopicEmit)="selectTopic($event)"
                    (clickDatasetEmit)="onClickMetadataNode($event)"
                ></app-metadata>
            </ng-template>
        </div>
    </div>
</div>
